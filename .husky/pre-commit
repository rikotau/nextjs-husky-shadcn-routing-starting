# Deteksi sistem operasi

OS="$(uname -s | tr '[:upper:]' '[:lower:]')"

if echo "$OS" | grep -q "mingw"; then
  # Windows (Git Bash)
  echo "🔍 Detected Windows (Git Bash). Running PowerShell script..."
  powershell.exe -ExecutionPolicy Bypass -NoProfile -File .husky/pre-commit.ps1
else
  # Linux/Mac
  echo "🔍 Detected Linux/Mac. Running shell script..."
  bun run lint-staged || (echo "❌ ESLint failed! Please fix errors and warnings first." && exit 1)
fi